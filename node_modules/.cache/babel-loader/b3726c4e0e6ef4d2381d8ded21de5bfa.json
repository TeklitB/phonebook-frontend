{"ast":null,"code":"var _jsxFileName = \"/home/techb/Full-stack-open-2020/part2/phonebook/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport Persons from './components/Persons';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport SinglePerson from './components/SinglePerson';\nimport bookServices from './services/book';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [searchName, setSearchName] = useState('');\n  useEffect(() => {\n    bookServices.getAll().then(initialNotes => {\n      setPersons(initialNotes);\n    });\n  }, []);\n\n  const addName = event => {\n    event.preventDefault();\n    const found = persons.find(person => person.name === newName);\n\n    if (found) {\n      window.alert(`${newName} is already added to phonebook`);\n      setNewName('');\n      setNewNumber('');\n    } else {\n      const nameObject = {\n        name: newName,\n        number: newNumber\n      };\n      bookServices.create(nameObject).then(returnedNote => {\n        setPersons(persons.concat(returnedNote));\n        setNewName('');\n        setNewNumber('');\n      });\n    }\n  };\n\n  const handleNewName = event => {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n\n  const handleNewNumber = event => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n\n  const deleteContact = id => {\n    const deletePerson = persons.find(n => n.id === id);\n    const updatedPersons = persons.filter(n => n.id !== id);\n    console.log(deletePerson);\n    const result = window.confirm(`Delete '${deletePerson.name}'?`);\n\n    if (result) {\n      bookServices.create(updatedPersons).then(returnedPerson => {\n        setPersons(returnedPerson);\n      }).catch(error => {// alert(\n        //     ` '${deletePerson.name}' was already deleted`\n        // )\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, \"Phonebook\"), /*#__PURE__*/React.createElement(Filter, {\n    searchName: searchName,\n    setSearchName: setSearchName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(SinglePerson, {\n    searchName: searchName,\n    persons: persons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, \"Add a new\"), /*#__PURE__*/React.createElement(PersonForm, {\n    newName: newName,\n    newNumber: newNumber,\n    addName: addName,\n    handleNewName: handleNewName,\n    handleNewNumber: handleNewNumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, \"Numbers\"), persons.map(person => /*#__PURE__*/React.createElement(Persons, {\n    key: person.name,\n    person: person,\n    deleteContact: () => deleteContact(person.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/techb/Full-stack-open-2020/part2/phonebook/src/App.js"],"names":["React","useState","useEffect","Persons","Filter","PersonForm","SinglePerson","bookServices","App","persons","setPersons","newName","setNewName","newNumber","setNewNumber","searchName","setSearchName","getAll","then","initialNotes","addName","event","preventDefault","found","find","person","name","window","alert","nameObject","number","create","returnedNote","concat","handleNewName","console","log","target","value","handleNewNumber","deleteContact","id","deletePerson","n","updatedPersons","filter","result","confirm","returnedPerson","catch","error","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport SinglePerson from './components/SinglePerson'\nimport bookServices from './services/book'\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [searchName, setSearchName] = useState('')\n\n    useEffect(() => {\n        bookServices\n            .getAll()\n            .then(initialNotes => {\n                setPersons(initialNotes)\n            })\n    }, [])\n\n    const addName = (event) => {\n        event.preventDefault();\n\n        const found = persons.find(person => person.name === newName)\n\n        if (found) {\n            window.alert(`${newName} is already added to phonebook`)\n            setNewName('')\n            setNewNumber('')\n        } else {\n            const nameObject = {\n                name: newName,\n                number: newNumber\n            }\n\n            bookServices\n                .create(nameObject)\n                .then(returnedNote => {\n                    setPersons(persons.concat(returnedNote))\n                    setNewName('')\n                    setNewNumber('')\n                })\n        }\n    }\n    const handleNewName = (event) => {\n        console.log(event.target.value)\n        setNewName(event.target.value)\n    }\n\n    const handleNewNumber = (event) => {\n        console.log(event.target.value)\n        setNewNumber(event.target.value)\n    }\n\n    const deleteContact = id => {\n        const deletePerson = persons.find(n => n.id === id)\n        const updatedPersons = persons.filter(n => n.id !== id)\n        console.log(deletePerson)\n\n        const result = window.confirm(`Delete '${deletePerson.name}'?`)\n\n        if (result) {\n            bookServices\n                .create(updatedPersons)\n                .then(returnedPerson => {\n                    setPersons(returnedPerson)\n                })\n                .catch(error => {\n                    // alert(\n                    //     ` '${deletePerson.name}' was already deleted`\n                    // )\n                })\n        }\n    }\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Filter searchName={searchName} setSearchName={setSearchName} />\n            <SinglePerson searchName={searchName} persons={persons} />\n            <h2>Add a new</h2>\n            <PersonForm newName={newName} newNumber={newNumber} addName={addName}\n                handleNewName={handleNewName} handleNewNumber={handleNewNumber}\n            />\n            <h2>Numbers</h2>\n            {persons.map(person =>\n                <Persons key={person.name} person={person}\n                    deleteContact={() => deleteContact(person.id)} />\n            )}\n        </div>\n    )\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}